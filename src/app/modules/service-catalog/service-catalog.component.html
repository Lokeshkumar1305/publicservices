<div class="service-catalog-container p-4">
  <!-- Header Section -->
  <div class="catalog-header d-flex justify-content-between align-items-center mb-5 mt-3 px-2">
    <div>
      <h1 class="h1-bold text-dark mb-1">Service Catalog</h1>
      <p class="body-reg text-muted">A comprehensive ecosystem of business solutions tailored for your growth.</p>
    </div>
    <button mat-flat-button color="primary" class="rounded-pill px-4" (click)="toggleAddModal()">
      <mat-icon class="me-2">add</mat-icon> Add New Service
    </button>
  </div>

  <!-- Service Cards Grid -->
  <div class="service-grid">
    <div *ngFor="let s of services; let i = index" class="service-card-wrapper animate-fade-in"
      [style.animation-delay]="i * 0.05 + 's'">
      <mat-card class="service-card border-0">
        <div class="card-content d-flex flex-column h-100 p-4">
          <div class="icon-wrapper" [ngClass]="s.name.toLowerCase()">
            <mat-icon class="service-icon">{{ s.icon || 'star' }}</mat-icon>
          </div>

          <h2 class="service-title">{{ s.name }}</h2>
          <p class="service-desc">{{ s.description }}</p>

          <div class="card-footer pt-3">
            <div class="service-price">
              <span class="amount">${{ s.price }}</span>
              <span class="period" *ngIf="s.type === 'Hourly'">/ hr</span>
              <span class="period" *ngIf="s.type === 'Fixed'">one-time</span>
            </div>

            <button class="try-now-btn">
              TRY NOW <mat-icon style="font-size: 18px; width: 18px; height: 18px;">chevron_right</mat-icon>
            </button>
          </div>
        </div>
      </mat-card>
    </div>
  </div>

  <!-- Add Service Modal -->
  <div class="modal-overlay" *ngIf="showAddModal" (click)="toggleAddModal()">
    <mat-card class="modal-card p-4 rounded-4 shadow-lg bg-white" (click)="$event.stopPropagation()">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="title1-bold m-0">Define New Service</h2>
        <button mat-icon-button (click)="toggleAddModal()">
          <mat-icon>close</mat-icon>
        </button>
      </div>

      <div class="row g-3">
        <div class="col-md-12">
          <label class="form-label caption-bold">Service Name</label>
          <input type="text" class="form-control rounded-3 py-2" [(ngModel)]="newService.name"
            placeholder="e.g. Identity Management">
        </div>

        <div class="col-md-6">
          <label class="form-label caption-bold">Category</label>
          <select class="form-select rounded-3 py-2" [(ngModel)]="newService.category">
            <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label caption-bold">Price ($)</label>
          <input type="number" class="form-control rounded-3 py-2" [(ngModel)]="newService.price">
        </div>

        <div class="col-md-6">
          <label class="form-label caption-bold">Pricing Model</label>
          <select class="form-select rounded-3 py-2" [(ngModel)]="newService.type">
            <option value="Fixed">Fixed Price</option>
            <option value="Hourly">Hourly Rate</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label caption-bold">Icon (Material Icon Name)</label>
          <input type="text" class="form-control rounded-3 py-2" [(ngModel)]="newService.icon"
            placeholder="e.g. security">
        </div>

        <div class="col-md-12">
          <label class="form-label caption-bold">Description</label>
          <textarea class="form-control rounded-3 py-2" rows="3" [(ngModel)]="newService.description"
            placeholder="Briefly describe what this service offers..."></textarea>
        </div>

        <div class="col-md-12 pt-3 d-flex justify-content-end gap-2">
          <button mat-button class="rounded-pill" (click)="toggleAddModal()">Discard</button>
          <button mat-flat-button color="primary" class="rounded-pill px-4" (click)="createService()">Deploy
            Service</button>
        </div>
      </div>
    </mat-card>
  </div>
</div>